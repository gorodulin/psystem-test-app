# README

### Models:

Top priority: not to allow to store invalid/inconsistent data.

- Models never update associated records. Other classes do this job in transactions.
- Models provide validations that can't be implemented on DB level.
- Transactions use UUID as id (generated by Rails to make DB-level referential integrity to work).
- 'id' attribute is aliased as 'uuid'.
- Merchant role has its own model associated with user. It makes it alienable without massive update query in `transactions` table.
- Transactions are implemented as a set of models with STI.

### Rake tasks

Application task names are prefixed with `psystem`.

`bundle exec rake psystem:transaction:purge`

### Cron jobs

Described in `config/schedule.rb`

To update crontab run `whenever --update-crontab`
